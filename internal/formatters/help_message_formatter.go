package formatters

import (
	"evo-bot-go/internal/constants"
	"fmt"
)

// FormatHelpMessage generates the help message text with appropriate commands based on user permissions
func FormatHelpMessage(isAdmin bool) string {
	helpText := "<b>üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</b>\n\n" +
		"<b>üè† –ë–∞–∑–æ–≤—ã–µ</b>\n" +
		"‚îî /start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n" +
		"‚îî /help - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–∏—Ö –∫–æ–º–∞–Ω–¥\n" +
		"‚îî /cancel - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ–Ω—è–µ—Ç –ª—é–±–æ–π –¥–∏–∞–ª–æ–≥\n\n" +
		"<b>üë§ –ü—Ä–æ—Ñ–∏–ª—å</b>\n" +
		"‚îî /profile - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º, –ø–æ–∏—Å–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π –∫–ª—É–±—á–∞–Ω, –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ –≤ –∫–∞–Ω–∞–ª–µ ¬´–ò–Ω—Ç—Ä–æ¬ª\n\n" +
		"<b>üîç –ü–æ–∏—Å–∫</b>\n" +
		"‚îî /tools - –ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –∫–∞–Ω–∞–ª–∞ ¬´–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã¬ª\n" +
		"‚îî /content - –ù–∞–π—Ç–∏ –≤–∏–¥–µ–æ –∏–∑ –∫–∞–Ω–∞–ª–∞ ¬´–í–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç¬ª\n" +
		"‚îî /intro - –ù–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö –∫–ª—É–±–∞ –∏–∑ –∫–∞–Ω–∞–ª–∞ ¬´–ò–Ω—Ç—Ä–æ¬ª (—É–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–æ—Ñ–∏–ª—è–º –∫–ª—É–±—á–∞–Ω)\n\n" +
		"<b>üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</b>\n" +
		"‚îî /events - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π\n" +
		"‚îî /topics - –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–º—ã –∏ –≤–æ–ø—Ä–æ—Å—ã –∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º\n" +
		"‚îî /topicAdd - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–µ–º—É –∏–ª–∏ –≤–æ–ø—Ä–æ—Å –∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–º—É –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—é\n\n"

	featuresDescription := "\n<b>üé≤ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π Random Coffee:</b>\n" +
		"- –û–ø—Ä–æ—Å –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á–∞—Ö –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ (–æ–±—ã—á–Ω–æ –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º).\n" +
		"- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–µ —É—á–∞—Å—Ç–∏–µ.\n" +
		"- –ü–∞—Ä—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è (–æ–±—ã—á–Ω–æ –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º) –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º."

	helpText += featuresDescription

	helpText += "\n\n" + // Add some spacing before the link
		"<i>üí° <a href=\"https://t.me/c/2069889012/127/9470\">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</a></i>"

	if isAdmin {
		adminHelpText := "\n\n<b>üîê –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</b>\n" +
			fmt.Sprintf("‚îî /%s - –ù–∞—á–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ\n", constants.EventStartCommand) +
			fmt.Sprintf("‚îî /%s - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ\n", constants.EventSetupCommand) +
			fmt.Sprintf("‚îî /%s - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ\n", constants.EventEditCommand) +
			fmt.Sprintf("‚îî /%s - –£–¥–∞–ª–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ\n", constants.EventDeleteCommand) +
			fmt.Sprintf("‚îî /%s - –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–º—ã –∏ –≤–æ–ø—Ä–æ—Å—ã –∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º *—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∏—è*\n", constants.ShowTopicsCommand) +
			fmt.Sprintf("‚îî /%s - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–∞—Ä –¥–ª—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ Random Coffee\n", constants.PairRandomCoffeeCommand) +
			fmt.Sprintf("‚îî /%s - –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –æ–ø—Ä–æ—Å –ø–æ –∫–æ—Ñ–µ–π–Ω—ã–º –≤—Å—Ç—Ä–µ—á–∞–º\n", constants.CoffeeRestartCommand) +
			fmt.Sprintf("‚îî /%s - –í–≤–µ—Å—Ç–∏ –∫–æ–¥ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ TG-–∫–ª–∏–µ–Ω—Ç–∞ (–∑–∞–¥–æ–º –Ω–∞–ø–µ—Ä–µ–¥)\n", constants.CodeCommand) +
			fmt.Sprintf("‚îî /%s - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –æ–±—â–µ–Ω–∏—è –≤ –∫–ª—É–±–µ\n", constants.TrySummarizeCommand) +
			fmt.Sprintf("‚îî /%s - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∫–ª—É–±—á–∞–Ω\n", constants.AdminProfilesCommand)

		helpText += adminHelpText
	}

	return helpText
}
